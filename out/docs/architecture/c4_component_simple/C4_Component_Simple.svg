<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="603px" preserveAspectRatio="none" style="width:772px;height:603px;" version="1.1" viewBox="0 0 772 603" width="772px" zoomAndPan="magnify"><defs><filter height="300%" id="ftg5v9rqs9iq2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="351" x="204" y="17.4023">Component Diagram - Application Layer</text><!--MD5=[de6cf97a447c0cb999a0ecd0089df131]
cluster Application Layer--><polygon fill="#FFFFFF" filter="url(#ftg5v9rqs9iq2)" points="16,27.1992,147,27.1992,154,49.6875,204,49.6875,204,286.0192,16,286.0192,16,27.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="154" y1="49.6875" y2="49.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="125" x="20" y="42.7344">Application Layer</text><!--MD5=[cc167570a590d8dbd4742108b55f98b1]
cluster Domain Layer--><polygon fill="#FFFFFF" filter="url(#ftg5v9rqs9iq2)" points="16,458.9292,121,458.9292,128,481.4175,446,481.4175,446,596.7992,16,596.7992,16,458.9292" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="128" y1="481.4175" y2="481.4175"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99" x="20" y="474.4644">Domain Layer</text><!--MD5=[fc9d01843663843f76fa1b021ee06788]
cluster Infrastructure Layer--><polygon fill="#FFFFFF" filter="url(#ftg5v9rqs9iq2)" points="147,310.0192,295,310.0192,302,332.5075,755,332.5075,755,434.9292,147,434.9292,147,310.0192" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="147" x2="302" y1="332.5075" y2="332.5075"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="142" x="151" y="325.5544">Infrastructure Layer</text><!--MD5=[cf46e6e0d7d3123151761cd764e33ef4]
class RAGService--><rect codeLine="5" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="73.9102" id="RAGService" style="stroke:#A80036;stroke-width:1.5;" width="108" x="56" y="196.1092"/><ellipse cx="75.95" cy="212.1092" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M78.4231,218.2523 Q77.8421,218.5511 77.2029,218.7005 Q76.5638,218.8499 75.8582,218.8499 Q73.3514,218.8499 72.0315,217.1981 Q70.7117,215.5462 70.7117,212.4251 Q70.7117,209.2957 72.0315,207.6439 Q73.3514,205.992 75.8582,205.992 Q76.5638,205.992 77.2112,206.1414 Q77.8587,206.2909 78.4231,206.5897 L78.4231,209.3123 Q77.7923,208.7313 77.1988,208.4615 Q76.6053,208.1917 75.9744,208.1917 Q74.6297,208.1917 73.9449,209.2584 Q73.2601,210.325 73.2601,212.4251 Q73.2601,214.5169 73.9449,215.5836 Q74.6297,216.6502 75.9744,216.6502 Q76.6053,216.6502 77.1988,216.3805 Q77.7923,216.1107 78.4231,215.5296 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65" x="91.05" y="216.6444">RAGService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="57" x2="163" y1="228.1092" y2="228.1092"/><line style="stroke:#A80036;stroke-width:1.5;" x1="57" x2="163" y1="236.1092" y2="236.1092"/><ellipse cx="67" cy="247.1092" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39" x="76" y="250.744">query()</text><ellipse cx="67" cy="260.0643" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="76" y="263.6991">query_stream()</text><!--MD5=[34b2f0f7407082ec51a775b6d59284b9]
class ChatService--><rect codeLine="9" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="73.9102" id="ChatService" style="stroke:#A80036;stroke-width:1.5;" width="156" x="32" y="62.1992"/><ellipse cx="73.1" cy="78.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M75.5731,84.3423 Q74.9921,84.6411 74.3529,84.7905 Q73.7138,84.9399 73.0082,84.9399 Q70.5014,84.9399 69.1815,83.2881 Q67.8617,81.6362 67.8617,78.5151 Q67.8617,75.3857 69.1815,73.7339 Q70.5014,72.082 73.0082,72.082 Q73.7138,72.082 74.3612,72.2314 Q75.0087,72.3809 75.5731,72.6797 L75.5731,75.4023 Q74.9423,74.8213 74.3488,74.5515 Q73.7553,74.2817 73.1244,74.2817 Q71.7797,74.2817 71.0949,75.3484 Q70.4101,76.415 70.4101,78.5151 Q70.4101,80.6069 71.0949,81.6736 Q71.7797,82.7402 73.1244,82.7402 Q73.7553,82.7402 74.3488,82.4705 Q74.9423,82.2007 75.5731,81.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="92.9" y="82.7344">ChatService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="187" y1="94.1992" y2="94.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="187" y1="102.1992" y2="102.1992"/><ellipse cx="43" cy="113.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="52" y="116.834">send_message()</text><ellipse cx="43" cy="126.1543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="52" y="129.7891">send_message_stream()</text><!--MD5=[59b530d44ae785dc18db921986a9c15c]
class Document--><rect codeLine="16" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="86.8652" id="Document" style="stroke:#A80036;stroke-width:1.5;" width="92" x="338" y="493.9292"/><ellipse cx="353.9" cy="509.9292" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M356.3731,516.0723 Q355.7921,516.3711 355.1529,516.5205 Q354.5138,516.6699 353.8082,516.6699 Q351.3014,516.6699 349.9815,515.0181 Q348.6617,513.3662 348.6617,510.2451 Q348.6617,507.1157 349.9815,505.4639 Q351.3014,503.812 353.8082,503.812 Q354.5138,503.812 355.1612,503.9614 Q355.8087,504.1109 356.3731,504.4097 L356.3731,507.1323 Q355.7423,506.5513 355.1488,506.2815 Q354.5553,506.0117 353.9244,506.0117 Q352.5797,506.0117 351.8949,507.0784 Q351.2101,508.145 351.2101,510.2451 Q351.2101,512.3369 351.8949,513.4036 Q352.5797,514.4702 353.9244,514.4702 Q354.5553,514.4702 355.1488,514.2005 Q355.7423,513.9307 356.3731,513.3496 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="368.1" y="514.4644">Document</text><line style="stroke:#A80036;stroke-width:1.5;" x1="339" x2="429" y1="525.9292" y2="525.9292"/><ellipse cx="349" cy="536.9292" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="10" x="358" y="540.564">id</text><ellipse cx="349" cy="549.8843" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="358" y="553.5191">content</text><ellipse cx="349" cy="562.8394" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="358" y="566.4741">source_type</text><line style="stroke:#A80036;stroke-width:1.5;" x1="339" x2="429" y1="572.7945" y2="572.7945"/><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect codeLine="21" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="73.9102" id="Message" style="stroke:#A80036;stroke-width:1.5;" width="82" x="221" y="500.4092"/><ellipse cx="236" cy="516.4092" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M238.4731,522.5523 Q237.8921,522.8511 237.2529,523.0005 Q236.6138,523.1499 235.9082,523.1499 Q233.4014,523.1499 232.0815,521.4981 Q230.7617,519.8462 230.7617,516.7251 Q230.7617,513.5957 232.0815,511.9439 Q233.4014,510.292 235.9082,510.292 Q236.6138,510.292 237.2612,510.4414 Q237.9087,510.5909 238.4731,510.8897 L238.4731,513.6123 Q237.8423,513.0313 237.2488,512.7615 Q236.6553,512.4917 236.0244,512.4917 Q234.6797,512.4917 233.9949,513.5584 Q233.3101,514.625 233.3101,516.7251 Q233.3101,518.8169 233.9949,519.8836 Q234.6797,520.9502 236.0244,520.9502 Q236.6553,520.9502 237.2488,520.6805 Q237.8423,520.4107 238.4731,519.8296 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="250" y="520.9444">Message</text><line style="stroke:#A80036;stroke-width:1.5;" x1="222" x2="302" y1="532.4092" y2="532.4092"/><ellipse cx="232" cy="543.4092" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="241" y="547.044">role</text><ellipse cx="232" cy="556.3643" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="241" y="559.9991">content</text><line style="stroke:#A80036;stroke-width:1.5;" x1="222" x2="302" y1="566.3194" y2="566.3194"/><!--MD5=[b58dc8a32998ac0d9491d06d85c5b72c]
class IDocumentRepository--><rect codeLine="25" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="86.8652" id="IDocumentRepository" style="stroke:#A80036;stroke-width:1.5;" width="154" x="32" y="493.9292"/><ellipse cx="47" cy="509.9292" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M43.4277,506.1944 L43.4277,504.0362 L50.8071,504.0362 L50.8071,506.1944 L48.3418,506.1944 L48.3418,514.271 L50.8071,514.271 L50.8071,516.4292 L43.4277,516.4292 L43.4277,514.271 L45.8931,514.271 L45.8931,506.1944 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="122" x="61" y="514.4644">IDocumentRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="185" y1="525.9292" y2="525.9292"/><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="185" y1="533.9292" y2="533.9292"/><ellipse cx="43" cy="544.9292" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="32" x="52" y="548.564">save()</text><ellipse cx="43" cy="557.8843" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="52" y="561.5191">get_by_id()</text><ellipse cx="43" cy="570.8394" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="52" y="574.4741">search_similar()</text><!--MD5=[25bed13153022dd67523275372a5d725]
class ChromaDocumentRepository--><rect codeLine="33" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="73.9102" id="ChromaDocumentRepository" style="stroke:#A80036;stroke-width:1.5;" width="196" x="328" y="345.0192"/><ellipse cx="343" cy="361.0192" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M345.4731,367.1623 Q344.8921,367.4611 344.2529,367.6105 Q343.6138,367.7599 342.9082,367.7599 Q340.4014,367.7599 339.0815,366.1081 Q337.7617,364.4562 337.7617,361.3351 Q337.7617,358.2057 339.0815,356.5539 Q340.4014,354.902 342.9082,354.902 Q343.6138,354.902 344.2612,355.0514 Q344.9087,355.2009 345.4731,355.4997 L345.4731,358.2223 Q344.8423,357.6413 344.2488,357.3715 Q343.6553,357.1017 343.0244,357.1017 Q341.6797,357.1017 340.9949,358.1684 Q340.3101,359.235 340.3101,361.3351 Q340.3101,363.4269 340.9949,364.4936 Q341.6797,365.5602 343.0244,365.5602 Q343.6553,365.5602 344.2488,365.2905 Q344.8423,365.0207 345.4731,364.4396 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164" x="357" y="365.5544">ChromaDocumentRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="329" x2="523" y1="377.0192" y2="377.0192"/><line style="stroke:#A80036;stroke-width:1.5;" x1="329" x2="523" y1="385.0192" y2="385.0192"/><ellipse cx="339" cy="396.0192" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="32" x="348" y="399.654">save()</text><ellipse cx="339" cy="408.9743" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="348" y="412.6091">search_similar()</text><!--MD5=[960e8dc41f69dc7cd39cad43b45c554a]
class OpenAIService--><rect codeLine="37" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="73.9102" id="OpenAIService" style="stroke:#A80036;stroke-width:1.5;" width="180" x="559" y="345.0192"/><ellipse cx="603.75" cy="361.0192" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M606.2231,367.1623 Q605.6421,367.4611 605.0029,367.6105 Q604.3638,367.7599 603.6582,367.7599 Q601.1514,367.7599 599.8315,366.1081 Q598.5117,364.4562 598.5117,361.3351 Q598.5117,358.2057 599.8315,356.5539 Q601.1514,354.902 603.6582,354.902 Q604.3638,354.902 605.0112,355.0514 Q605.6587,355.2009 606.2231,355.4997 L606.2231,358.2223 Q605.5923,357.6413 604.9988,357.3715 Q604.4053,357.1017 603.7744,357.1017 Q602.4297,357.1017 601.7449,358.1684 Q601.0601,359.235 601.0601,361.3351 Q601.0601,363.4269 601.7449,364.4936 Q602.4297,365.5602 603.7744,365.5602 Q604.4053,365.5602 604.9988,365.2905 Q605.5923,365.0207 606.2231,364.4396 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="624.25" y="365.5544">OpenAIService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="560" x2="738" y1="377.0192" y2="377.0192"/><line style="stroke:#A80036;stroke-width:1.5;" x1="560" x2="738" y1="385.0192" y2="385.0192"/><ellipse cx="570" cy="396.0192" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="579" y="399.654">generate_response()</text><ellipse cx="570" cy="408.9743" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="579" y="412.6091">generate_response_stream()</text><!--MD5=[0550774cbbe27abddbb16b5cd09221f0]
class DocumentLoader--><rect codeLine="41" fill="#FEFECE" filter="url(#ftg5v9rqs9iq2)" height="73.9102" id="DocumentLoader" style="stroke:#A80036;stroke-width:1.5;" width="130" x="163" y="345.0192"/><ellipse cx="178" cy="361.0192" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180.4731,367.1623 Q179.8921,367.4611 179.2529,367.6105 Q178.6138,367.7599 177.9082,367.7599 Q175.4014,367.7599 174.0815,366.1081 Q172.7617,364.4562 172.7617,361.3351 Q172.7617,358.2057 174.0815,356.5539 Q175.4014,354.902 177.9082,354.902 Q178.6138,354.902 179.2612,355.0514 Q179.9087,355.2009 180.4731,355.4997 L180.4731,358.2223 Q179.8423,357.6413 179.2488,357.3715 Q178.6553,357.1017 178.0244,357.1017 Q176.6797,357.1017 175.9949,358.1684 Q175.3101,359.235 175.3101,361.3351 Q175.3101,363.4269 175.9949,364.4936 Q176.6797,365.5602 178.0244,365.5602 Q178.6553,365.5602 179.2488,365.2905 Q179.8423,365.0207 180.4731,364.4396 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="192" y="365.5544">DocumentLoader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="164" x2="292" y1="377.0192" y2="377.0192"/><line style="stroke:#A80036;stroke-width:1.5;" x1="164" x2="292" y1="385.0192" y2="385.0192"/><ellipse cx="174" cy="396.0192" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="183" y="399.654">load_from_pdf()</text><ellipse cx="174" cy="408.9743" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="183" y="412.6091">load_from_text()</text><!--MD5=[73609b343a0746e1ff78a56c374e4dae]
entity ChromaDB--><path d="M465.5,524.6192 C465.5,514.6192 512,514.6192 512,514.6192 C512,514.6192 558.5,514.6192 558.5,524.6192 L558.5,550.1075 C558.5,560.1075 512,560.1075 512,560.1075 C512,560.1075 465.5,560.1075 465.5,550.1075 L465.5,524.6192 " fill="#FFFFFF" filter="url(#ftg5v9rqs9iq2)" style="stroke:#000000;stroke-width:1.5;"/><path d="M465.5,524.6192 C465.5,534.6192 512,534.6192 512,534.6192 C512,534.6192 558.5,534.6192 558.5,524.6192 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="475.5" y="552.1544">ChromaDB</text><!--MD5=[291d93c21ef374df4e49291b0af017f0]
entity OpenAI_API--><path d="M603.5887,524.1848 C605.7795,519.2465 609.8649,517.9107 614.0236,521.8793 C617.7123,514.1835 623.0463,513.9157 627.6498,521.0381 C631.2333,515.9445 635.3537,515.7863 638.9239,521.0527 C642.2635,515.4311 646.9325,514.9065 651.0309,520.212 C655.3322,515.4097 658.9251,516.2675 662.0721,521.4841 C665.1863,515.9279 669.1536,515.6348 672.9411,520.8017 C677.8539,515.6242 682.6476,516.9126 685.5731,523.0253 C689.3616,517.1047 694.2383,516.5248 698.1889,522.8585 C706.235,524.8263 708.8,530.7569 704.1872,537.805 C709.4785,545.8086 706.4756,554.2252 696.0628,554.6583 C692.8808,560.3752 688.9515,560.6007 685.1773,555.2403 C682.8042,561.3295 677.5342,563.1278 673.0485,557.4107 C671.3043,562.6173 666.5039,563.8406 662.7947,559.5272 C659.9645,566.6626 653.3298,567.7346 649.0286,560.9857 C644.4278,564.9443 639.1708,564.486 637.9523,557.5477 C633.9869,562.7972 629.8793,563.211 625.7236,557.7654 C621.2443,561.9611 617.3647,562.5572 614.3794,556.1647 C610.5486,560.6467 606.5683,560.7791 604.1748,554.7672 C594.5595,551.7005 595.428,543.722 601.7313,538.294 C595.581,533.1886 596.7808,527.5843 603.5887,524.1848 " fill="#FFFFFF" filter="url(#ftg5v9rqs9iq2)" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="609" y="542.6544">OpenAI_API</text><!--MD5=[b7710cf2f6864923f1c36ec6edc33ebf]
link RAGService to IDocumentRepository--><path codeLine="53" d="M109.88,270.2292 C109.7,324.2892 109.36,426.2992 109.16,487.1192 " fill="none" id="RAGService-to-IDocumentRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="109.15,492.0792,113.1757,483.0907,109.1643,487.0792,105.1757,483.0678,109.15,492.0792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2bbc3b442e54110b7138a9469b3a4693]
link RAGService to OpenAIService--><path codeLine="54" d="M164.27,234.5292 C248.2,236.9992 413.16,248.8992 541,302.0192 C563.45,311.3492 585.59,326.2492 603.93,340.5992 " fill="none" id="RAGService-to-OpenAIService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="607.81,343.6892,603.2576,334.9556,603.8973,340.5762,598.2767,341.2159,607.81,343.6892" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e8fe59e6eede82fa6d3bde2a7b5dd37f]
link ChatService to RAGService--><path codeLine="55" d="M110,136.5492 C110,152.9892 110,172.5092 110,189.6092 " fill="none" id="ChatService-to-RAGService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="110,194.2792,114,185.2792,110,189.2792,106,185.2792,110,194.2792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fd0bdab4630d2d2425aed13535434902]
link ChromaDocumentRepository to IDocumentRepository--><path codeLine="56" d="M367.34,419.3892 C349.82,428.6292 330.17,437.4792 311,442.9292 C264.71,456.1092 247.22,431.9292 203,450.9292 C187.47,457.6092 172.82,467.9392 159.9,479.1492 " fill="none" id="ChromaDocumentRepository-to-IDocumentRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="165.01,483.9492,145.64,492.5592,155.42,473.7592,165.01,483.9492" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fe0900e10339dc009886cbe05098c244]
link ChromaDocumentRepository to ChromaDB--><path codeLine="57" d="M446.38,419.3292 C461.8,446.8392 482.66,484.0292 496.68,509.0392 " fill="none" id="ChromaDocumentRepository-to-ChromaDB" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="499,513.1692,498.1014,503.3614,496.5609,508.8045,491.1178,507.264,499,513.1692" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b20ec2a15a253559eff52bd8eb57bf73]
link OpenAIService to OpenAI_API--><path codeLine="58" d="M649,419.3292 C649,446.3292 649,482.6592 649,507.6392 " fill="none" id="OpenAIService-to-OpenAI_API" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="649,512.5292,653,503.5292,649,507.5292,645,503.5292,649,512.5292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f22970f6abff4bf5e520f9a67144a936]
link DocumentLoader to Document--><path codeLine="59" d="M278.38,419.3092 C299.16,434.3792 318.92,448.8592 321,450.9292 C332.3,462.1792 343.16,475.5892 352.58,488.3992 " fill="none" id="DocumentLoader-to-Document" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="355.37,492.2492,353.3235,482.6153,352.4342,488.2018,346.8477,487.3126,355.37,492.2492" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8572cf58b91969e7025c5b053f90326d]
@startuml C4_Component_Simple

title Component Diagram - Application Layer

package "Application Layer" {
  class RAGService {
    + query()
    + query_stream()
  }
  class ChatService {
    + send_message()
    + send_message_stream()
  }
}

package "Domain Layer" {
  class Document {
    + id
    + content
    + source_type
  }
  class Message {
    + role
    + content
  }
  interface IDocumentRepository {
    + save()
    + get_by_id()
    + search_similar()
  }
}

package "Infrastructure Layer" {
  class ChromaDocumentRepository {
    + save()
    + search_similar()
  }
  class OpenAIService {
    + generate_response()
    + generate_response_stream()
  }
  class DocumentLoader {
    + load_from_pdf()
    + load_from_text()
  }
}

database ChromaDB {
}

cloud OpenAI_API {
}

RAGService - -> IDocumentRepository
RAGService - -> OpenAIService
ChatService - -> RAGService
ChromaDocumentRepository ..|> IDocumentRepository
ChromaDocumentRepository - -> ChromaDB
OpenAIService - -> OpenAI_API
DocumentLoader - -> Document

@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 SGT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: SG
--></g></svg>