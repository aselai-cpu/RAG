@startuml C4_Container
' Using basic PlantUML syntax for compatibility with older versions
' If you need C4 styling, update PlantUML to version 1.2021.6 or later

skinparam packageStyle rectangle
skinparam componentStyle rectangle

title Container Diagram for RAG Application

actor User as user

package "RAG Application" #LightBlue {
  component [Streamlit UI\nPython/Streamlit] as streamlit_ui
  component [Application Services\nPython] as app_services
  component [Domain Layer\nPython] as domain_layer
  component [Infrastructure Layer\nPython] as infrastructure
  database [ChromaDB\nVector Database] as chroma
}

cloud [OpenAI API\nLLM and Embedding Services] as openai

user --> streamlit_ui : Interacts with\nHTTPS
streamlit_ui --> app_services : Calls\nPython
app_services --> domain_layer : Uses\nPython
app_services --> infrastructure : Uses\nPython
infrastructure --> chroma : Reads/Writes\nPython API
infrastructure --> openai : API Calls\nHTTPS/REST

note right of streamlit_ui
  Provides user interface
  for document upload and chat
end note

note right of app_services
  Orchestrates RAG workflow
  and chat sessions
end note

note right of domain_layer
  Contains core business
  entities and logic
end note

note right of infrastructure
  Handles external
  integrations
end note

note right of chroma
  Stores document embeddings
end note

@enduml
